<div class="fixed w-full z-10 bottom-0">

  <div class="flex flex-wrap justify-between bg-black items-center">
    <container class="mx-auto p-3">
      <img id="coverImage" src="https://placeholder.co/80x80" class="rounded" alt="">
    </container>
    <container class="mx-auto text-center">
      <h1 id="songTitle" class="lg:text-4xl md:text-2xl sm:text-normal font-extrabold text-white m-2">Song Title</h1>
      <h1 id="artistName" class="lg:text-xl md:text-lg sm:text-normal font-regular text-white m-2">Artist Name</h1>
    </container>
    <container class="flex space-x-10 mx-auto">
      <img id="prevButton" class="m-1" src="/asset/prev.png" style="width:30px; height:30px;" alt="">
      <img id="playPauseButton" class="m-1" src="/asset/play.png" style="width:30px; height:30px;" alt="">
      <img id="nextButton" class="m-1" src="/asset/next.png" style="width:30px; height:30px;" alt="">
    </container>
  </div>
  <div class="flex items-center justify-between w-full bg-black p-2">
    <p id="startTime" class="text-xs text-white">0:00</p>
    <div class="w-full mx-3 items-center">
      <input type="range" class="w-full" min="0" max="100" value="0" id="progressBar">
    </div>
    <p id="endTime" class="text-xs text-white">0:00</p>
  </div>
</div>

<script>
const playPauseButton = document.getElementById('playPauseButton');
const prevButton = document.getElementById('prevButton');
const nextButton = document.getElementById('nextButton');
const coverImage = document.getElementById('coverImage');
const songTitle = document.getElementById('songTitle');
const artistName = document.getElementById('artistName');
const progressBar = document.getElementById('progressBar');
const startTime = document.getElementById('startTime');
const endTime = document.getElementById('endTime');

let isPlaying = false; // Track whether the audio is currently playing
let currentTime = 0; // Track the current playback time

// Sample playlist data
const playlist = [
  {
    cover: 'https://i.ytimg.com/vi/Oc1eXypZ5Eg/0.jpg',
    title: 'Tujuan Hidup Manusia',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/ceramah1_202404/ceramah1.mp3'
  },
  {
    cover: 'https://i.ytimg.com/vi/uTlKbF5AUh4/0.jpg',
    title: 'Nasibmu Tergantung Pada Shalatmu',
    artist: 'KH. Zainuddin MZ',
    audio: 'http://sorryyee.serv00.net/ceramah/ceramah2.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Kisah Umar Bin Khattab Mendapatkan Hidayah Ketika Mendengarkan Ayat Al Quran',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/KisahUmarBinKhattabMendapatkanHidayahKetikaMendengarkanAyatAlQuranKHZainuddinMZ/Kisah%20Umar%20Bin%20Khattab%20Mendapatkan%20Hidayah%20Ketika%20Mendengarkan%20Ayat%20Al%20Quran%20-%20KH%20Zainuddin%20MZ.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Kisah Abu Jahal Dan Abu Lahab Rindu Bacaan Al Quran Rosulullah',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/KisahAbuJahalDanAbuLahabRinduBacaanAlQuranRosulullahCeramahKHZainuddinMZ/Kisah%20Abu%20Jahal%20dan%20Abu%20Lahab%20Rindu%20Bacaan%20Al%20Quran%20Rosulullah%20-%20Ceramah%20KH%20Zainuddin%20MZ.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Mencari Jodoh',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/K.h.ZainuddinMz-MencariJodoh.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: '10 Musuh Setan 1',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KH%20Zainuddin%20MZ%20-%2010%20musuh%20setan%201.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: '10 Musuh Setan 2',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KH%20Zainuddin%20MZ%20-%2010%20musuh%20setan%202.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Al-Quran Imam Kita',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KH%20Zainuddin%20MZ%20-%20Al-Quran%20Imam%20Kita.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Arak & Judi Racun Kehidupan',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KH%20Zainuddin%20MZ%20-%20Arak%20%26%20Judi%20Racun%20Kehidupan.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Bahaya Free Sex 1',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KH%20Zainuddin%20MZ%20-%20Bahaya%20Free%20Sex%20A.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Bahaya Free Sex 2',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KH%20Zainuddin%20MZ%20-%20Bahaya%20Free%20Sex%20B.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Berbakti Kepada Ibu & Bapak',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KH%20Zainuddin%20MZ%20-%20Berbakti%20Kepada%20Ibu%20%26%20Bapa.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Bila Ajal Tiba',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KH%20Zainuddin%20MZ%20-%20Bila%20Ajal%20Tiba.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Bila Doa Tak Terjawab 1',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KH%20Zainuddin%20MZ%20-%20Bila%20Doa%20Tak%20Terjawab%20A.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Bila Doa Tak Terjawab 2',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KH%20Zainuddin%20MZ%20-%20Bila%20Doa%20Tak%20Terjawab%20B.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Cara Mendidik Anak',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KH%20Zainuddin%20MZ%20-%20Cara%20Mendidik%20Anak.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Cobaan Hidup',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KH%20Zainuddin%20MZ%20-%20Cobaan%20Hidup.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Dasar Dan Tujuan Hidup Muslim',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KH%20Zainuddin%20MZ%20-%20Dasar%20Dan%20Tujuan%20Hidup%20Muslim.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Dusta',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KH%20Zainuddin%20MZ%20-%20Dusta.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Golongan Penghuni Surga',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KH%20Zainuddin%20MZ%20-%20Golongan%20Penghuni%20Surga.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Golongan Yang Mendapat Perlindungan Dari Allah',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KH%20Zainuddin%20MZ%20-%20Golongan%20Yang%20Mendapat%20Perlindungan%20Dari%20Allah.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Harta Dunia',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KH%20Zainuddin%20MZ%20-%20Harta%20Dunia.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Harta Takhta Dan Wanita',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KH%20Zainuddin%20MZ%20-%20Harta%20Takhta%20Dan%20Wanita.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Idul Fitri Dan Hari Kemenangan',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KH%20Zainuddin%20MZ%20-%20Idul%20Fitri%20Dan%20Hari%20Kemenangan.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: '10 Golongan Teman Setan',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/Kh%20Zainuddin%20MZ%20-%2010%20golongan%20teman%20setan.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Islam Dalam Semangat Kebersamaan',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KhZainuddinMz-IslamDalamSemangatKebersamaan.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Jaman Susah',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KhZainuddinMz-JamanSusah.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Laskar Ababil',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KhZainuddinMz-LaskarAbabil.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Mari Berhaji',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KhZainuddinMz-MariBerhaji.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Memelihara Amal',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KhZainuddinMz-MemeliharaAmal.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Nabi Adam',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KhZainuddinMz-NabiAdam.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Nabi Ibrahim',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KhZainuddinMz-NabiIbrahim.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'KhZainuddinMz-Nabi Sulaiman Dan Ratu Bilqis',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KhZainuddinMz-NabiSulaimanDanRatuBilkis.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'NabiYusuf Dan Siti Zulaikha',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KhZainuddinMz-NabiYusufDanSitiZulaikha.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Neraka Dan Calon Penghuninya',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KhZainuddinMz-NerakaDanCalonPenghuninya.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Pahala Dan Dosa 1',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KhZainuddinMz-PahalaDanDosa1-2.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Pahala Dan Dosa 2',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KhZainuddinMz-PahalaDanDosa2-2.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Para Kekasih Allah',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KhZainuddinMz-ParaKekasihAllah.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Penyakit Rohani 1',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KhZainuddinMz-PenyakitRohani1of2.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Penyakit Rohani 2',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KhZainuddinMz-PenyakitRohani2of2.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Reformasi Baginda Nabi Besar Muhammad SAW',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KhZainuddinMz-ReformasibagindaNabiBesarMuhammadSaw.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Rumah Tangga',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KhZainuddinMz-RumahTangga.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Sikap Kita Terhadap Al-Quran 1',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KhZainuddinMz-SikapKitaTerhadapAl-quran1of2.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Sikap Kita Terhadap Al-Quran 2',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KhZainuddinMz-SikapKitaTerhadapAl-quran2of2.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Surga Dan Calon Penghuninya',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KhZainuddinMz-SyurgaDanCalonPenghuninya.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Taubat',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KhZainuddinMz-Taubat.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Ulama Dan Umaro',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KhZainuddinMz-UlamaDanUmaro.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Ulama Pewaris Nabi',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KhZainuddinMz-UlamaPewarisNabi.mp3'
  },
  {
    cover: 'https://i.ibb.co/4t0qqW1/image.png', // template
    title: 'Ummar Bin Khattab',
    artist: 'KH. Zainuddin MZ',
    audio: 'https://archive.org/download/BlogGalihKhZainuddinMz/KhZainuddinMz-UmmarBinKhattab.mp3'
  },

  // Add more songs as needed
];

let currentSongIndex = 0; // Track the index of the current song

// Function to load a random song from the playlist and play it
function loadAndPlayRandomSong() {
  const randomIndex = Math.floor(Math.random() * playlist.length);
  currentSongIndex = randomIndex;
  loadCurrentSong();
}

// Call the function to load and play a random song when the page first loads
loadAndPlayRandomSong();

// Function to load the current song
function loadCurrentSong() {
  const currentSong = playlist[currentSongIndex];
  audio.src = currentSong.audio;
  coverImage.src = currentSong.cover;
  songTitle.textContent = currentSong.title;
  artistName.textContent = currentSong.artist;
  document.title = `${currentSong.artist} - ${currentSong.title}`; // Update browser title
  audio.play();
  isPlaying = true;
  playPauseButton.src = '/asset/pause.png';
  audio.addEventListener('loadedmetadata', () => {
    endTime.textContent = formatTime(audio.duration);
  });
}

// Function to format time in MM:SS format
function formatTime(seconds) {
  const minutes = Math.floor(seconds / 60);
  const remainingSeconds = Math.floor(seconds % 60);
  return `${minutes}:${remainingSeconds < 10 ? '0' : ''}${remainingSeconds}`;
}

// Function to play or pause the audio
function togglePlayPause() {
  if (isPlaying) {
    audio.pause();
  } else {
    audio.play();
  }
  isPlaying = !isPlaying;
  playPauseButton.src = isPlaying ? '/asset/pause.png' : '/asset/play.png';
}

// Event listeners for play, pause, previous, and next buttons
playPauseButton.addEventListener('click', togglePlayPause);
prevButton.addEventListener('click', playPreviousSong);
nextButton.addEventListener('click', playNextSong);

// Create audio element
const audio = new Audio();
audio.src = playlist[currentSongIndex].audio;
audio.addEventListener('loadedmetadata', () => {
  endTime.textContent = formatTime(audio.duration);
});

// Event listener for updating progress bar
audio.addEventListener('timeupdate', () => {
  currentTime = Math.floor(audio.currentTime);
  progressBar.value = (currentTime / audio.duration) * 100;
  startTime.textContent = formatTime(currentTime);
});

// Event listener for when the song ends
audio.addEventListener('ended', playNextSong);

// Event listener for when the progress bar value changes
progressBar.addEventListener('input', () => {
  const seekTime = (progressBar.value / 100) * audio.duration;
  audio.currentTime = seekTime;
  startTime.textContent = formatTime(seekTime);
});

// Function to play the previous song
function playPreviousSong() {
  currentSongIndex = (currentSongIndex - 1 + playlist.length) % playlist.length;
  loadCurrentSong();
}

// Function to play the next song
function playNextSong() {
  currentSongIndex = (currentSongIndex + 1) % playlist.length;
  loadCurrentSong();
}

// Function to load the current song
function loadCurrentSong() {
  audio.src = playlist[currentSongIndex].audio;
  coverImage.src = playlist[currentSongIndex].cover;
  songTitle.textContent = playlist[currentSongIndex].title;
  artistName.textContent = playlist[currentSongIndex].artist;
  audio.play();
  isPlaying = true;
  playPauseButton.src = '/asset/pause.png';
  audio.addEventListener('loadedmetadata', () => {
    endTime.textContent = formatTime(audio.duration);
  });
}

// Initialize the player UI
loadCurrentSong();

</script>